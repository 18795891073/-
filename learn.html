<!-- 倒计时功能 -->
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>倒计时</title>
  </head>
  <body>
    <p id="textp" style="margin:200px 0 0 606px;border:3px solid #f00;width:500px;height:300px;text-align:center;line-height:300px;color:#0ff;font-size:20px;">这里显示倒计时</p>
  </body>
<script type="text/javascript">
  var t1 = setInterval(function(){
    // 获取后端传过来的时间
    var dateH = '2019-12-28';
    // 获取当前时间
    var now=new Date();
    //获得两者的时间差
    var allTime = (Date.parse(dateH) - Date.parse(now))
    var day = Math.floor(allTime/(24*60*60*1000))
    var hour = Math.floor((allTime - day*24*60*60*1000)/(60*60*1000));
    var minute = Math.floor((allTime - day*24*60*60*1000 - hour*60*60*1000)/(60*1000));
    var second = Math.floor((allTime - day*24*60*60*1000 - hour*60*60*1000 - minute*60*1000)/1000);
    var textp = document.getElementById("textp");
    textp.innerHTML = "距离批改结束还有" + day + '天' + hour + '小时' + minute + '分' + second + '秒';
    // 倒计时归零清除定时器
    if(allTime===0){
        clearInterval(t1);
    }
  },1000)  
</script>
</html>